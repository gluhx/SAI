{% extends "base.html" %}
{% block title %}Помощь технологу{% endblock %}
{% block page_title %}Помощь технологу{% endblock %}
{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/technologist/tech_help.css') }}">
{% endblock %}
{% block content %}
<main class="help-content">
    <h1 class="page-title">Справочник технологических операций</h1>
    {% if gosts_data %}
        {% for gost in gosts_data %}
            <section class="gost-group">
                <h2 class="group-title">
                    {{ gost['group_number'] }}00 — {{ gost['group_name'] }}
                </h2>
                {% if gost['operations'] %}
                    <div class="operations-table">
                        <div class="operations-header">
                            <div class="col-code">Код</div>
                            <div class="col-name">Наименование операции</div>
                        </div>
                        {% for operation in gost['operations'] %}
                            <div class="operation-row">
                                {% set op_num = '0' + operation[0]|string if operation[0] < 10 else operation[0]|string %}
                                <div class="col-code">{{ gost['group_number'] }}{{ op_num }}</div>
                                <div class="col-name">{{ operation[1] }}</div>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="empty-group">Нет операций в этой группе.</p>
                {% endif %}
            </section>
        {% endfor %}
    {% else %}
        <p class="empty-message">Справочник временно недоступен.</p>
    {% endif %}
</main>
<footer class="footer">Хорошего дня!</footer>
{% endblock %}
